/**
 * Leaflet.Bookmarks v0.3.0
 * Leaflet plugin for user-generated bookmarks
 *
 * @author Alexander Milevski
 * @license MIT
 * @preserve
 */
!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o(require("leaflet")):"function"==typeof define&&define.amd?define(["leaflet"],o):((t=t||self).Leaflet=t.Leaflet||{},t.Leaflet.Bookmarks=o(t.L))}(this,(function(t){"use strict";function o(t,o,e){return t.replace(e||/{{([\s\S]+?)}}/g,(function(t,e){if(-1===(e=function(t){return t.replace(/^\s+|\s+$/g,"")}(e)).indexOf("."))return"\\"==t.charAt(0)?t.slice(1):null!=o[e]?o[e]:"";for(var s=o,i=0,a=(e=e.split(".")).length;i<a;i++){if(!(e[i]in s))return"";s=s[e[i]]}return s}))}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var e="abcdefghijklmnopqrstuvwxyz";function s(t){return(t||e[Math.floor(Math.random()*e.length)])+(new Date).getTime().toString(16)}var i={},a=function(t){this._prefix=t};a.prototype.getItem=function(t,o){o(i[this._prefix+t])},a.prototype.setItem=function(t,o,e){i[this._prefix+t]=o,e(o)},a.prototype.getAllItems=function(t){var o=[];for(var e in i)i.hasOwnProperty(e)&&0===e.indexOf(this_prefix)&&o.push(i[e]);t(o)},a.prototype.removeItem=function(t,o){var e=this;this.getItem(t,(function(s){s?delete i[e._prefix+t]:s=null,o&&o(s)}))};var n=/^[\{\[](.)*[\]\}]$/,r=function(t){this._prefix=t,this._storage=window.localStorage};r.prototype.getItem=function(t,o){var e=this._storage.getItem(this._prefix+t);e&&n.test(e)&&(e=JSON.parse(e)),o(e)},r.prototype.getAllItems=function(t){var o=[],e=this._prefix.length;for(var s in this._storage)null!==this._storage.getItem(s)&&0===s.indexOf(this._prefix)&&this.getItem(s.substring(e),(function(t){return o.push(t)}));t(o)},r.prototype.removeItem=function(t,o){var e=this,s=this;this.getItem(t,(function(i){e._storage.removeItem(s._prefix+t),o&&o(i)}))},r.prototype.setItem=function(t,o,e){var s=o.toString();"[object Object]"===s&&(s=JSON.stringify(o)),this._storage.setItem(this._prefix+t,s),e(o)};var l=2,p=3,m=function t(o,e){"string"!=typeof o&&(e=o,o=s()),this._name=o,this._engine=t.createEngine(e,this._name,Array.prototype.slice.call(arguments,2))};m.createEngine=function(t,o,e){return t===l?new a(o):t===p?new r(o):void 0},m.prototype.setItem=function(t,o,e){return this._engine.setItem(t,o,e),this},m.prototype.getItem=function(t,o){return this._engine.getItem(t,o),this},m.prototype.getAllItems=function(t){this._engine.getAllItems(t)},m.prototype.removeItem=function(t,o){this._engine.removeItem(t,o)};var h,u,d={CREATE:1,UPDATE:2,SHOW:3,OPTIONS:4},c=t.Popup.extend({statics:{modes:d},options:{mode:d.CREATE,className:"leaflet-bookmarks-form-popup",templateOptions:{formClass:"leaflet-bookmarks-form",inputClass:"leaflet-bookmarks-form-input",inputErrorClass:"has-error",idInputClass:"leaflet-bookmarks-form-id",coordsClass:"leaflet-bookmarks-form-coords",submitClass:"leaflet-bookmarks-form-submit",inputPlaceholder:"Bookmark name",removeClass:"leaflet-bookmarks-form-remove",editClass:"leaflet-bookmarks-form-edit",cancelClass:"leaflet-bookmarks-form-cancel",editableClass:"editable",removableClass:"removable",menuItemClass:"nav-item",editMenuText:"Edit",removeMenuText:"Remove",cancelMenuText:"Cancel",submitTextCreate:"+",submitTextEdit:'<span class="icon-checkmark"></span>'},generateNames:!1,minWidth:160,generateNamesPrefix:"Bookmark ",template:'<form class="{{ formClass }}"><div class="input-group"><input type="text" name="bookmark-name" placeholder="{{ inputPlaceholder }}" class="form-control {{ inputClass }}" value="{{ name }}"><input type="hidden" class={{ idInputClass }} value="{{ id }}"><button type="submit" class="input-group-addon {{ submitClass }}">{{ submitText }}</button></div><div class="{{ coordsClass }}">{{ coords }}</div></form>',menuTemplate:'<ul class="nav {{ mode }}" role="menu"><li class="{{ editClass }}"><a href="#" class="{{ menuItemClass }}">{{ editMenuText }}</a></li><li class="{{ removeClass }}"><a href="#" class="{{ menuItemClass }}">{{ removeMenuText }}</a></li><li><a href="#" class="{{ menuItemClass }} {{ cancelClass }}">{{ cancelMenuText }}</a></li></ul>'},initialize:function(o,e,s,i){o.offset=this._calculateOffset(e,{}),this._bookmark=i,this._control=s,this._latlng=e.getLatLng(),e._popup_=this,t.Popup.prototype.initialize.call(this,o,e)},_initLayout:function(){if(t.Popup.prototype._initLayout.call(this),this.options.mode===d.SHOW&&(this._bookmark.editable||this._bookmark.removable)){var o=this._menuButton=t.DomUtil.create("a","leaflet-popup-menu-button");this._container.insertBefore(o,this._closeButton),o.href="#menu",o.innerHTML='<span class="menu-icon"></span>',t.DomEvent.disableClickPropagation(o),t.DomEvent.on(o,"click",this._onMenuButtonClick,this)}},_showMenu:function(){this._map.fire("bookmark:options",{data:this._bookmark})},_onMenuButtonClick:function(o){t.DomEvent.preventDefault(o),this._showMenu(),this._close()},_calculateOffset:function(o,e){var s=t.point(o.options.icon.options.popupAnchor||[0,0]);return s=s.add(this.options.offset),e&&e.offset&&(s=s.add(e.offset)),s},_updateContent:function(){var e;if(this.options.mode===d.SHOW)e=this._control._getPopupContent(this._bookmark);else{var s=this.options.template,i=this.options.templateOptions.submitTextCreate;this.options.mode===d.OPTIONS&&(s=this.options.menuTemplate),this.options.mode===d.UPDATE&&(i=this.options.templateOptions.submitTextEdit);var a=[];this._bookmark.editable&&a.push(this.options.templateOptions.editableClass),this._bookmark.removable&&a.push(this.options.templateOptions.removableClass),e=o(s,t.Util.extend({},this._bookmark||{},this.options.templateOptions,{submitText:i,coords:this.formatCoords(this._source.getLatLng(),this._map.getZoom()),mode:a.join(" ")}))}this._content=e,t.Popup.prototype._updateContent.call(this),this._onRendered()},_onRendered:function(){if(this.options.mode===d.CREATE||this.options.mode===d.UPDATE){var o=this._contentNode.querySelector("."+this.options.templateOptions.formClass);o.querySelector("."+this.options.templateOptions.inputClass);t.DomEvent.on(o,"submit",this._onSubmit,this),setTimeout(this._setFocus.bind(this),250)}else this.options.mode===d.OPTIONS&&(t.DomEvent.delegate(this._container,"."+this.options.templateOptions.editClass,"click",this._onEditClick,this),t.DomEvent.delegate(this._container,"."+this.options.templateOptions.removeClass,"click",this._onRemoveClick,this),t.DomEvent.delegate(this._container,"."+this.options.templateOptions.cancelClass,"click",this._onCancelClick,this))},_setFocus:function(){var t=this._contentNode.querySelector("."+this.options.templateOptions.inputClass),o=2*t.value.length;t.focus(),t.setSelectionRange(o,o)},_onEditClick:function(o){t.DomEvent.preventDefault(o),this._map.fire("bookmark:edit",{data:this._bookmark}),this._close()},_onRemoveClick:function(o){t.DomEvent.preventDefault(o),this._map.fire("bookmark:remove",{data:this._bookmark}),this._close()},_onCancelClick:function(o){t.DomEvent.preventDefault(o),this._map.fire("bookmark:show",{data:this._bookmark}),this._close()},_getBookmarkData:function(){if(this.options.getBookmarkData)return this.options.getBookmarkData.call(this);var t=this._contentNode.querySelector("."+this.options.templateOptions.inputClass),o=this._contentNode.querySelector("."+this.options.templateOptions.idInputClass);return{latlng:this._source.getLatLng(),zoom:this._map.getZoom(),name:t.value,id:o.value||s()}},_onSubmit:function(o){t.DomEvent.stop(o);var e=this._contentNode.querySelector("."+this.options.templateOptions.inputClass);e.classList.remove(this.options.templateOptions.inputErrorClass),""===e.value&&this.options.generateNames&&(e.value=s(this.options.generateNamesPrefix));var i=this.options.validateInput||function(){return!0};if(""!==e.value&&i.call(this,e.value)){var a=t.Util.extend({},this._bookmark,this._getBookmarkData()),n=this._map;this._close(),this.options.mode===d.CREATE?n.fire("bookmark:add",{data:a}):n.fire("bookmark:edited",{data:a})}else e.classList.add(this.options.templateOptions.inputErrorClass)},formatCoords:function(t,o){return this.options.formatCoords?this.options.formatCoords.call(this,t,o):[t.lat.toFixed(4),t.lng.toFixed(4),o].join(",&nbsp;")},onAdd:function(o){return this._source.on("dragend",this._onSourceMoved,this),this._source.on("dragstart",this._onSourceMoveStart,this),t.Popup.prototype.onAdd.call(this,o)},onRemove:function(o){this._source.off("dragend",this._onSourceMoved,this),t.Popup.prototype.onRemove.call(this,o)},_onSourceMoveStart:function(){this._bookmark=t.Util.extend(this._bookmark||{},this._getBookmarkData()),this._container.style.display="none"},_onSourceMoved:function(t){this._latlng=this._source.getLatLng(),this._container.style.display="",this._source.openPopup(),this.update()}}),k=(h=Element.prototype,u=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.msMatchesSelector||h.oMatchesSelector||function(t){for(var o=(this.parentNode||this.document).querySelectorAll(t),e=0,s=o.length;e<s;++e)if(o[e]==this)return!0;return!1},function(t,o){return u.call(t,o)});t.DomEvent.delegate=function(o,e,s,i,a){return t.DomEvent.on(o,s,(function(t){var s=t.target||t.srcElement;t.delegateTarget=function(t,o,e,s){for(t=e?{parentNode:t}:t,s=s||document;(t=t.parentNode)&&t!==document;){if(k(t,o))return t;if(t===s)return null}}(s,e,!0,o),t.delegateTarget&&!t.propagationStopped&&i.call(a||o,t)}))},t.Util._template=t.Util._template||o;var _=t.Control.extend({statics:{Storage:m,FormPopup:c},options:{localStorage:!0,storage:null,name:"leaflet-bookmarks",position:"topright",containerClass:"leaflet-bar leaflet-bookmarks-control",expandedClass:"expanded",headerClass:"bookmarks-header",listClass:"bookmarks-list",iconClass:"bookmarks-icon",iconWrapperClass:"bookmarks-icon-wrapper",listWrapperClass:"bookmarks-list-wrapper",listWrapperClassAdd:"list-with-button",wrapperClass:"bookmarks-container",addBookmarkButtonCss:"add-bookmark-button",animateClass:"bookmark-added-anim",animateDuration:150,formPopup:{popupClass:"bookmarks-popup"},bookmarkTemplate:'<li class="{{ itemClass }}" data-id="{{ data.id }}"><span class="{{ removeClass }}">&times;</span><span class="{{ nameClass }}">{{ data.name }}</span><span class="{{ coordsClass }}">{{ data.coords }}</span></li>',emptyTemplate:'<li class="{{ itemClass }} {{ emptyClass }}">{{ data.emptyMessage }}</li>',dividerTemplate:'<li class="divider"></li>',bookmarkTemplateOptions:{itemClass:"bookmark-item",nameClass:"bookmark-name",coordsClass:"bookmark-coords",removeClass:"bookmark-remove",emptyClass:"bookmarks-empty"},defaultBookmarkOptions:{editable:!0,removable:!0},title:"Bookmarks",emptyMessage:"No bookmarks yet",addBookmarkMessage:"Add new bookmark",collapseOnClick:!0,scrollOnAdd:!0,scrollDuration:1e3,popupOnShow:!0,addNewOption:!0,popupTemplate:"<div><h3>{{ name }}</h3><p>{{ latlng }}, {{ zoom }}</p></div>",getPopupContent:function(t){return o(this.options.popupTemplate,{latlng:this.formatCoords(t.latlng),name:t.name,zoom:this._map.getZoom()})}},initialize:function(o){o=o||{},this._data=[],this._list=null,this._marker=null,this._addButton=null,this._icon=null,this._isCollapsed=!0,t.Util.setOptions(this,o),this._storage=o.storage||(this.options.localStorage?new m(this.options.name,p):new m(this.options.name,l)),t.Control.prototype.initialize.call(this,this.options)},onAdd:function(o){var e=this._container=t.DomUtil.create("div",this.options.containerClass);return t.DomEvent.disableClickPropagation(e).disableScrollPropagation(e),e.innerHTML='<div class="'+this.options.headerClass+'"><span class="'+this.options.iconWrapperClass+'"><span class="'+this.options.iconClass+'"></span></span>',this._icon=e.querySelector("."+this.options.iconClass),this._icon.title=this.options.title,this._createList(this.options.bookmarks),t.DomUtil.create("div",this.options.wrapperClass,this._container).appendChild(this._listwrapper),this._initLayout(),t.DomEvent.on(e,"click",this._onClick,this).on(e,"contextmenu",t.DomEvent.stopPropagation),o.on("bookmark:new",this._onBookmarkAddStart,this).on("bookmark:add",this._onBookmarkAdd,this).on("bookmark:edited",this._onBookmarkEdited,this).on("bookmark:show",this._onBookmarkShow,this).on("bookmark:edit",this._onBookmarkEdit,this).on("bookmark:options",this._onBookmarkOptions,this).on("bookmark:remove",this._onBookmarkRemove,this).on("resize",this._initLayout,this),e},onRemove:function(o){o.off("bookmark:new",this._onBookmarkAddStart,this).off("bookmark:add",this._onBookmarkAdd,this).off("bookmark:edited",this._onBookmarkEdited,this).off("bookmark:show",this._onBookmarkShow,this).off("bookmark:edit",this._onBookmarkEdit,this).off("bookmark:options",this._onBookmarkOptions,this).off("bookmark:remove",this._onBookmarkRemove,this).off("resize",this._initLayout,this),this._marker&&this._marker._popup_._close(),this.options.addNewOption&&t.DomEvent.off(this._container.querySelector("."+this.options.addBookmarkButtonCss),"click",this._onAddButtonPressed,this),this._marker=null,this._popup=null,this._container=null},getData:function(){return this._filterBookmarksOutput(this._data)},_createList:function(o){var e=this;this._listwrapper=t.DomUtil.create("div",this.options.listWrapperClass,this._container),this._list=t.DomUtil.create("ul",this.options.listClass,this._listwrapper),t.DomEvent.delegate(this._list,"."+this.options.bookmarkTemplateOptions.itemClass,"click",this._onBookmarkClick,this),this._setEmptyListContent(),t.Util.isArray(o)?this._appendItems(o):"function"==typeof o?this._appendItems(o()):this._storage.getAllItems((function(t){return e._appendItems(t)}))},_setEmptyListContent:function(){this._list.innerHTML=o(this.options.emptyTemplate,t.Util.extend(this.options.bookmarkTemplateOptions,{data:{emptyMessage:this.options.emptyMessage}}))},_initLayout:function(){var o=this._map.getSize();if(this._listwrapper.style.maxHeight=Math.min(.6*o.y,o.y-100)+"px","topleft"===this.options.position&&t.DomUtil.addClass(this._container,"leaflet-bookmarks-to-right"),this.options.addNewOption){var e=t.DomUtil.create("div",this.options.addBookmarkButtonCss);null===this._addButton&&(this._listwrapper.parentNode.appendChild(e),this._addButton=e,this._listwrapper.parentNode.classList.add(this.options.listWrapperClassAdd),e.innerHTML='<span class="plus">+</span><span class="content">'+this.options.addBookmarkMessage+"</span>",t.DomEvent.on(e,"click",this._onAddButtonPressed,this))}},_onAddButtonPressed:function(o){t.DomEvent.stop(o),this.collapse(),this._map.fire("bookmark:new",{latlng:this._map.getCenter()})},_filterBookmarks:function(t){return this.options.filterBookmarks?this.options.filterBookmarks.call(this,t):t},_filterBookmarksOutput:function(t){return this.options.filterBookmarksOutput?this.options.filterBookmarksOutput.call(this,t):t},_appendItems:function(t){var o="",e=0===this._data.length;t=this._filterBookmarks(t),this._data=this._data.concat(t);for(var s=0,i=t.length;s<i;s++)o+=this._renderBookmarkItem(t[s]);if(""!==o&&(e?this._list.innerHTML=o:this._list.innerHTML+=o),this._isCollapsed){var a=this._container,n=this.options.animateClass;a.classList.add(n),window.setTimeout((function(){a.classList.remove(n)}),this.options.animateDuration)}else this._scrollToLast()},_scrollToLast:function(){var o=this._listwrapper,e=this._listwrapper.scrollTop,s=this._list.lastChild.offsetTop,i=(s-e)/(this.options.scrollDuration/62.5);t.Util.requestAnimFrame((function a(n){e=Math.min(e+i,s),o.scrollTop=e,e!==s&&t.Util.requestAnimFrame(a)}))},_renderBookmarkItem:function(t){return t.divider?o(this.options.dividerTemplate,t):(this.options.bookmarkTemplateOptions.data=this._getBookmarkDataForTemplate(t),o(this.options.bookmarkTemplate,this.options.bookmarkTemplateOptions))},_getBookmarkDataForTemplate:function(t){return this.options.getBookmarkDataForTemplate?this.options.getBookmarkDataForTemplate.call(this,t):{coords:this.formatCoords(t.latlng),name:this.formatName(t.name),zoom:t.zoom,id:t.id}},formatCoords:function(t){return this.options.formatCoords?this.options.formatCoords.call(this,t):t[0].toFixed(4)+",&nbsp;"+t[1].toFixed(4)},formatName:function(t){return this.options.formatName?this.options.formatName.call(this,t):t},expand:function(){t.DomUtil.addClass(this._container,this.options.expandedClass),this._isCollapsed=!1},collapse:function(){t.DomUtil.removeClass(this._container,this.options.expandedClass),this._isCollapsed=!0},_onClick:function(o){var e=t.DomUtil.hasClass(this._container,this.options.expandedClass),s=o.target||o.srcElement;if(e){if(s===this._container)return this.collapse();for(;s!==this._container;){if(t.DomUtil.hasClass(s,this.options.headerClass)||t.DomUtil.hasClass(s,this.options.listWrapperClass)){this.collapse();break}s=s.parentNode}}else this.expand()},_onBookmarkAddStart:function(o){this._marker&&this._popup._close(),this._marker=new t.Marker(o.latlng,{icon:this.options.icon||new t.Icon.Default,draggable:!0,riseOnHover:!0}).addTo(this._map),this._marker.on("popupclose",this._onPopupClosed,this),this._popup=new t.Control.Bookmarks.FormPopup(t.Util.extend(this.options.formPopup,{mode:t.Control.Bookmarks.FormPopup.modes.CREATE}),this._marker,this,t.Util.extend({},o.data,this.options.defaultBookmarkOptions)).addTo(this._map)},_onBookmarkAdd:function(t){var o=this,e=this._map;t=this._cleanBookmark(t.data),this._storage.setItem(t.id,t,(function(t){e.fire("bookmark:saved",{data:t}),o._appendItems([t])})),this._showBookmark(t)},_onBookmarkEdited:function(t){var o=this,e=this._map,s=this._cleanBookmark(t.data);this._storage.setItem(s.id,s,(function(t){e.fire("bookmark:saved",{data:t});var i=o._data;o._data=[];for(var a=0,n=i.length;a<n;a++)i[a].id===s.id&&i.splice(a,1,s);o._appendItems(i)})),this._showBookmark(s)},_cleanBookmark:function(o){return t.Util.isArray(o.latlng)||(o.latlng=[o.latlng.lat,o.latlng.lng]),o},_onPopupClosed:function(t){this._map.removeLayer(this._marker),this._marker=null,this._popup=null},_getBookmark:function(t){for(var o=0,e=this._data.length;o<e;o++)if(this._data[o].id===t)return this._data[o];return null},_onBookmarkShow:function(t){this._gotoBookmark(t.data)},_onBookmarkEdit:function(t){this._editBookmark(t.data)},_onBookmarkRemove:function(t){this._removeBookmark(t.data)},_onBookmarkOptions:function(t){this._bookmarkOptions(t.data)},_bookmarkOptions:function(o){var e=t.latLng(o.latlng),s=this._marker=this._createMarker(e,o);this._popup=new t.Control.Bookmarks.FormPopup(t.Util.extend(this.options.formPopup,{mode:t.Control.Bookmarks.FormPopup.modes.OPTIONS}),s,this,o).addTo(this._map)},_editBookmark:function(o){var e=t.latLng(o.latlng),s=this._marker=this._createMarker(e,o);s.dragging.enable(),this._popup=new t.Control.Bookmarks.FormPopup(t.Util.extend(this.options.formPopup,{mode:t.Control.Bookmarks.FormPopup.modes.UPDATE}),s,this,o).addTo(this._map)},_getOnRemoveHandler:function(t,o){return function(e){e.data.id===t.id&&(o.clearAllEventListeners(),o._popup_&&o._popup_._close(),this.removeLayer(o))}},_createMarker:function(o,e){var s=this,i=new t.Marker(o,{icon:this.options.icon||new t.Icon.Default,riseOnHover:!0}).addTo(this._map),a=this._getOnRemoveHandler(e,i);return this._map.on("bookmark:removed",a,this._map),i.on("popupclose",(function(){return s._map.removeLayer(s)})).on("remove",(function(){return s._map.off("bookmark:removed",a)})),i},_showBookmark:function(o){this._marker&&this._marker._popup_._close();var e=t.latLng(o.latlng),s=this._createMarker(e,o),i=new t.Control.Bookmarks.FormPopup(t.Util.extend(this.options.formPopup,{mode:t.Control.Bookmarks.FormPopup.modes.SHOW}),s,this,o);this.options.popupOnShow&&i.addTo(this._map),this._popup=i,this._marker=s},_gotoBookmark:function(t){this._map.setView(t.latlng,t.zoom),this._showBookmark(t)},_removeBookmark:function(t){var o=this,e=function(e){if(!e)return o._showBookmark(t);o._data.splice(o._data.indexOf(t),1),o._storage.removeItem(t.id,(function(t){o._onBookmarkRemoved(t)}))};"function"==typeof this.options.onRemove?this.options.onRemove(t,e):e(!0)},_onBookmarkRemoved:function(o){var e=this,s=this._list.querySelector("."+this.options.bookmarkTemplateOptions.itemClass+"[data-id='"+o.id+"']");this._map.fire("bookmark:removed",{data:o}),s&&(t.DomUtil.setOpacity(s,0),setTimeout((function(){s.parentNode&&s.parentNode.removeChild(s),0===e._data.length&&e._setEmptyListContent()}),250))},_getPopupContent:function(t){return this.options.getPopupContent?this.options.getPopupContent.call(this,t):JSON.stringify(t)},_onBookmarkClick:function(o){var e=this._getBookmarkFromListItem(o.delegateTarget);e&&(t.DomEvent.stopPropagation(o),t.DomUtil.hasClass(o.target||o.srcElement,this.options.bookmarkTemplateOptions.removeClass)?this._removeBookmark(e):(this._map.fire("bookmark:show",{data:e}),this.options.collapseOnClick&&this.collapse()))},_getBookmarkFromListItem:function(t){return this.options.getBookmarkFromListItem?this.options.getBookmarkFromListItem.call(this,t):this._getBookmark(t.getAttribute("data-id"))},bookmarkToFeature:function(o){var e=this._getBookmarkCoords(o);return delete(o=JSON.parse(JSON.stringify(o))).latlng,t.GeoJSON.getFeature({feature:{type:"Feature",id:o.id,properties:o}},{type:"Point",coordinates:e})},_getBookmarkCoords:function(o){return o.latlng instanceof t.LatLng?[o.latlng.lat,o.latlng.lng]:o.latlng.reverse()},fromGeoJSON:function(t){for(var o=[],e=0,s=t.features.length;e<s;e++){var i=t.features[e];i.properties.divider||(i.properties.latlng=i.geometry.coordinates.concat().reverse()),o.push(i.properties)}return o},toGeoJSON:function(){var t=this;return{type:"FeatureCollection",features:function(o){for(var e=[],s=0,i=o.length;s<i;s++)o[s].divider||e.push(t.bookmarkToFeature(o[s]));return e}(this._data)}}});return t.Control.Bookmarks=_,_}));
//# sourceMappingURL=Leaflet.Bookmarks.min.js.map
